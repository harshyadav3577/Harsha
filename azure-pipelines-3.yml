trigger:
  branches:
    include:
      - main

pool:
  vmImage: 'ubuntu-latest'

variables:
  - name: API_KEY, apiEndpoint
    value: <1234>, <https://sandhata01.pegalabs.io/prweb>
    apiEndpoint: 'https://sandhata01.pegalabs.io/prweb'
    apiKey: $(1234)  # Replace with your API key variable

steps:
- script: |
    # Set the API endpoint and key as environment variables
    echo "##vso[task.setvariable variable=API_ENDPOINT]$(https://sandhata01.pegalabs.io/prweb)"
    echo "##vso[task.setvariable variable=API_KEY]$(apiKey)"

    # Install necessary dependencies (if any)
    # e.g., npm install, pip install, etc.

    # Call the API using cURL or any other appropriate tool
    curl -X GET -H "Authorization: $(API_KEY)" $(API_ENDPOINT)/your/api/endpoint
  displayName: 'Invoke API'